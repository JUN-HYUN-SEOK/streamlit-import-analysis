# 🚢 수입신고 분석 도구 (완전판)

원본 `app-new202505.py`의 모든 분석 기능을 웹으로 구현한 완전판 스트림릿 애플리케이션입니다.

## 🎯 주요 기능

### 📊 분석 기능
- **8% 환급 검토**: 세율구분='A' AND 관세실행세율≥8% 조건 분석
- **0% Risk 분석**: 관세실행세율<8% AND 세율구분≠F*** 조건 리스크 분석
- **세율 Risk 분석**: 동일 규격1에 대해 서로 다른 세번부호가 적용된 경우
- **단가 Risk 분석**: 동일 조건에서 단가 편차가 큰 경우 분석
- **종합 요약**: 모든 분석 결과의 통계 및 시각화

### 💡 특징
- 🔄 **원본 코드 완전 구현**: `app-new202505.py`와 동일한 분석 로직
- 📊 **실시간 차트**: Plotly를 활용한 인터랙티브 시각화
- 📥 **다중 다운로드**: 각 분석별 개별 엑셀 다운로드 지원
- 🛡️ **안전한 처리**: robust한 오류 처리 및 데이터 검증
- 🎨 **직관적 UI**: 사용자 친화적인 웹 인터페이스

## 🚀 사용 방법

### 온라인 사용 (추천)
**🌐 [여기서 바로 사용하기](https://your-app-url.streamlit.app)**

### 로컬 실행
```bash
# 1. 저장소 복제
git clone https://github.com/your-username/your-repo-name.git
cd your-repo-name

# 2. 패키지 설치
pip install -r requirements.txt

# 3. 앱 실행
streamlit run app_enhanced.py
```

## 📋 분석 조건

### 🎯 8% 환급 검토
- **조건**: 세율구분 = 'A' AND 관세실행세율 ≥ 8%
- **목적**: 환급 검토가 필요한 항목 식별

### ⚠️ 0% Risk 분석
- **조건**: 관세실행세율 < 8% AND 세율구분이 F로 시작하는 4자리가 아님
- **목적**: 관세 리스크가 있는 항목 식별

### 📊 세율 Risk 분석
- **조건**: 규격1당 세번부호 수 > 1
- **목적**: 동일 규격에 대해 다른 세번부호가 적용된 경우

### 💰 단가 Risk 분석
- **조건**: 그룹별 단가 편차율 > 30%
- **목적**: 동일 조건에서 단가 차이가 큰 경우

## 📁 파일 형식

### 입력 파일
- **지원 형식**: `.xlsx`, `.csv`
- **필수 컬럼**: 70번째 컬럼(세율구분), 71번째 컬럼(관세실행세율)
- **추가 컬럼**: 수입신고번호, 세번부호, 규격1, 단가 등

### 출력 파일
- **엑셀 형식**: 다중 시트 지원
- **개별 다운로드**: 각 분석별 별도 파일
- **종합 리포트**: 모든 분석을 포함한 통합 파일

## 🛠️ 기술 스택

- **Frontend**: Streamlit
- **Backend**: Python, Pandas
- **Visualization**: Plotly
- **File Processing**: openpyxl
- **Deployment**: Streamlit Community Cloud

## 📞 지원

문제가 발생하거나 기능 개선 요청이 있으시면 Issues를 통해 연락해주세요.

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

---

**📊 Made with ❤️ for 수입신고 분석** 